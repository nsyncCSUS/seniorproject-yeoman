div(ng-include='"components/navbar/navbar.html"')

h1 Dashboard Page

div
    .col-xs-12.col-sm-4.col-md-4.col-lg-4
        .col-xs-6.col-sm-12.col-md-12.col-lg-12
            img.img-responsive.img-thumbnail.center-item(ng-if='hasPicture("user")', src="{{user.picture}}")
            img.img-responsive.img-thumbnail.center-item(ng-if='!hasPicture("user")', src="//placehold.it/500x500")
        .col-xs-6.col-sm-12.col-md-12.col-lg-12.text-center.infoRow
            a(href='/users/{{user._id}}')
                h5 {{user.firstName}} {{user.lastName}}
            h5 Member since: {{user.creationDate | date:'MMM yyyy'}} {{user.creationDate}}
            hr
            button.btn.btn-default.center-item(ng-click='')
                h4 Create Group
        
        
        .col-xs-12.col-sm-12.col-md-12.col-lg-12
            .visible-xs
                hr
            .panel-default
                .panel-heading(role='button', data-toggle='collapse', data-target='#groups', aria-expanded='true', aria-controls='groups')
                    h4.panel-title
                        a Organizer of <strong>{{user.organizerOf.length}} Groups</strong>
                            span.glyphicon.glyphicon-chevron-down.pull-right(aria-hidden='true')
                .panel-collapse.collapse.in#groups
                    .panel-body
                        .row
                            .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                .col-xs-4.col-sm-12.col-md-6.col-lg-4(ng-repeat='group in user.organizerOf')
                                    a(href='/groups/{{group.id}}')
                                        img.img-responsive.img-thumbnail(src='{{group.picture}}')
                                    h6.oneline {{group.name}}
            .panel-default
                .panel-heading(role='button', data-toggle='collapse', data-target='#subscribered', aria-expanded='true', aria-controls='subscribered')
                    h4.panel-title
                        a Subscribed to <strong>{{user.subscribedTo.length}} Groups</strong>
                            span.glyphicon.glyphicon-chevron-down.pull-right(aria-hidden='true')
                .panel-collapse.collapse#subscribered
                    .panel-body
                        .row
                            .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                .col-xs-4.col-sm-12.col-md-6.col-lg-4(ng-repeat='group in user.subscribedTo')
                                    a(href='/groups/{{group.id}}')
                                        img.img-responsive.img-thumbnail(src='{{group.picture}}')
                                    h6.oneline {{group.name}}
            .visible-xs
                hr
                                    
    .col-xs-12.col-sm-8.col-md-8.col-lg-8.panel-info
        .panel-heading
            .selectedTab
                | {{selectedTab}}
            button.btn.btn-xs.btn-default.cursor-pointer.otherTab(ng-click='setCurrentTab(otherTabs[0])') {{otherTabs[0]}}
            button.btn.btn-xs.btn-default.cursor-pointer.otherTab(ng-click='setCurrentTab(otherTabs[1])') {{otherTabs[1]}}
                
    .col-xs-12.col-sm-8.col-md-8.col-lg-8
        .panel-body.eventRow(ng-show='getCurrentTab("Upcoming Events")')
            .row.eventRow(ng-repeat='event in user.volunteeredTo | orderBy:"startTimeDate" | checkExpired:false')
                .col-xs-12.col-sm-12.col-md-12.col-lg-12.eventDateRow
                    h3 <strong>{{event.startTimeDate | date:'MMM d, yyyy'}}</strong> 
                    h5 {{event.startTimeDate | date:'EEEE h:m a'}} 
                    
                .col-xs-12.col-sm-12.col-md-12.col-lg-12.eventBody
                
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                        .row
                            h5
                                a(ng-href='/groups/{{event.group.id}}/') {{event.group.name}}
                        h4
                            a(ng-href='/events/{{event.id}}/') {{event.name}}
                        h5 {{event.street}} {{event.city}}, {{event.state}} {{event.zipcode}}
                        
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                        .row
                            .col-xs-12.col-sm-12.col-md-12.col-lg-12.navbar-btn
                                img.img-thumbnail.interests-thumbnail(ng-src='/images/interests/{{interest}}.png', ng-repeat='interest in event.interests | orderBy:interest', tooltip='{{interest}}')
                                
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                        .row
                            .col-xs-12.col-sm-4.col-md-4.col-lg-4.hidden-xs
                                .row
                                    .col-xs-4.col-sm-12.col-md-12.col-lg-12
                                        a(ng-href='/events/{{event.id}}/')
                                            img.img-responsive.img-thumbnail(src='{{event.picture}}')
                            .col-xs-12.col-sm-8.col-md-8.col-lg-8
                                .row
                                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                        h5 {{event.description | limitTo:10000}}
                        
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12.volunteerRow
                        .row
                            .hidden-xs
                                .col-xs-12.col-sm-6.col-md-7.col-lg-8.oneline
                                    img.img-rounded.volunteer-thumbnail(ng-repeat='volunteer in event.volunteers | limitTo:15', src='{{volunteer.picture}}')
                            .col-xs-12.col-sm-6.col-md-5.col-lg-4
                                h4.text-right {{event.volunteers.length}} / {{event.maxVolunteers}}
                                    | &nbsp
                                    button.btn Opt out
                    
        .panel-body.eventRow(ng-show='getCurrentTab("Past Events")')
            .row.eventRow(ng-repeat='event in user.volunteeredTo | orderBy:"-startTimeDate" | checkExpired:true')
                .col-xs-12.col-sm-12.col-md-12.col-lg-12.eventDateRow
                    h3 <strong>{{event.startTimeDate | date:'MMM d, yyyy'}}</strong> 
                    h5 {{event.startTimeDate | date:'EEEE h:m a'}}
                    
                .col-xs-12.col-sm-12.col-md-12.col-lg-12.eventBody
                
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                        .row
                            h5
                                a(ng-href='/groups/{{event.group.id}}/') {{event.group.name}}
                        h4
                            a(ng-href='/events/{{event.id}}/') {{event.name}}
                        h5 {{event.street}} {{event.city}}, {{event.state}} {{event.zipcode}}
                        
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                        .row
                            .col-xs-12.col-sm-12.col-md-12.col-lg-12.navbar-btn
                                img.img-thumbnail.interests-thumbnail(ng-src='/images/interests/{{interest}}.png', ng-repeat='interest in event.interests | orderBy:interest', tooltip='{{interest}}')
                    .col-xs-12.col-sm-4.col-md-4.col-lg-4.hidden-xs
                        .row
                            .col-xs-4.col-sm-12.col-md-12.col-lg-12
                                a(ng-href='/events/{{event.id}}/')
                                    img.img-responsive.img-thumbnail(src='{{event.picture}}')
                    .col-xs-12.col-sm-8.col-md-8.col-lg-8
                        .row
                            .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                h5 {{event.description | limitTo:10000}}
                        
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12.volunteerRow
                        .row
                            .hidden-xs
                                .col-xs-12.col-sm-12.col-md-12.col-lg-12.oneline
                                    img.img-rounded.volunteer-thumbnail(ng-repeat='volunteer in event.volunteers | limitTo:20', src='{{volunteer.picture}}')
                    
        .panel-body.eventRow(ng-show='getCurrentTab("Recommended Events")')
            .row.eventRow(ng-repeat='event in user.recommendedEvents | orderBy:"startTimeDate"')
                .col-xs-12.col-sm-12.col-md-12.col-lg-12.eventDateRow
                    h3 <strong>{{event.startTimeDate | date:'MMM d, yyyy'}}</strong> 
                    h5 {{event.startTimeDate | date:'EEEE h:m a'}}
                    
                .col-xs-12.col-sm-12.col-md-12.col-lg-12.eventBody
                
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                        .row
                            h5
                                a(ng-href='/groups/{{event.group.id}}/') {{event.group.name}}
                        h4
                            a(ng-href='/events/{{event.id}}/') {{event.name}}
                        h5 {{event.street}} {{event.city}}, {{event.state}} {{event.zipcode}}
                        
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                        .row
                            .col-xs-12.col-sm-12.col-md-12.col-lg-12.navbar-btn
                                img.img-thumbnail.interests-thumbnail(ng-src='/images/interests/{{interest}}.png', ng-repeat='interest in event.interests | orderBy:interest', tooltip='{{interest}}')
                    .col-xs-12.col-sm-4.col-md-4.col-lg-4.hidden-xs
                        .row
                            .col-xs-4.col-sm-12.col-md-12.col-lg-12
                                a(ng-href='/events/{{event.id}}/')
                                    img.img-responsive.img-thumbnail(src='{{event.picture}}')
                    .col-xs-12.col-sm-8.col-md-8.col-lg-8
                        .row
                            .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                h5 {{event.description | limitTo:10000}}
                        
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12.volunteerRow
                        .row
                            .hidden-xs
                                .col-xs-12.col-sm-12.col-md-12.col-lg-8.oneline
                                    img.img-rounded.volunteer-thumbnail(ng-repeat='volunteer in event.volunteers | limitTo:20', src='{{volunteer.picture}}')
                            .col-xs-12.col-sm-12.col-md-12.col-lg-4
                                h4.text-right {{event.volunteers.length}} / {{event.maxVolunteers}}
                                    | &nbsp
                                    button.btn Volunteer Now
                                    
