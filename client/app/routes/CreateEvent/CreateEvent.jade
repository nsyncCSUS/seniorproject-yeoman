div(ng-include='"components/navbar/navbar.html"')

h1 CREATE EVENT
div
    div
        .float-right.fixed
            button.btn.btn-warning(ng-show='!getIsPreviewing()', ng-click='enablePreview()') Preview
            button.btn.btn-warning(ng-show='getIsPreviewing()', ng-click='cancelPreview()') Cancel Preview
            | &nbsp
            button.btn.btn-info(ng-click='createEvent()') Create
            | &nbsp
            button.btn.btn-danger(ng-click='cancelCreateEvent()') Cancel

div.eventRow(ng-show='!getIsPreviewing()')
    .container
        .col-xs-12.col-sm-12.col-md-12.col-lg-12
            .row
                .col-xs-12.col-sm-12.col-md-7.col-lg-8
                        .form-group
                            label(for='eventName') Event Name
                            input.form-control#eventName(ng-model='event.name')
                .col-xs-12.col-sm-12.col-md-5.col-lg-4
                    label(for='interests') Interests
                    .navbar-btn
                        img.img-thumbnail.not-selected.cursor-pointer(src='/assets/images/interests/animals.png', ng-class='animalsSelected', ng-click='addInterest("Animals")', uib-tooltip='Animals')
                        img.img-thumbnail.not-selected.cursor-pointer(src='/assets/images/interests/education.png', ng-class='educationSelected', ng-click='addInterest("Education")', uib-tooltip='Education')
                        img.img-thumbnail.not-selected.cursor-pointer(src='/assets/images/interests/environment.png', ng-class='environmentSelected', ng-click='addInterest("Environment")', uib-tooltip='Environment')
                        img.img-thumbnail.not-selected.cursor-pointer(src='/assets/images/interests/people.png', ng-class='peopleSelected', ng-click='addInterest("People")', uib-tooltip='People')
                        img.img-thumbnail.not-selected.cursor-pointer(src='/assets/images/interests/recreation.png', ng-class='recreationSelected', ng-click='addInterest("Recreation")', uib-tooltip='Recreation')
                        img.img-thumbnail.not-selected.cursor-pointer(src='/assets/images/interests/technology.png', ng-class='technologySelected', ng-click='addInterest("Technology")', uib-tooltip='Technology')
                        img.img-thumbnail.not-selected.cursor-pointer(src='/assets/images/interests/youth.png', ng-class='youthSelected', ng-click='addInterest("Youth")', uib-tooltip='Youth')
            hr

            .row
                .col-xs-12.col-sm-6.col-md-4.col-lg-4.text-center
                    label(for='startTimeDate') Start Time
                    .row
                        .col-xs-12.col-sm-12.col-md-12.col-lg-12
                            .btn-group#startTimeDate(uib-dropdown='')
                                button#split-button.btn.btn-success(type='button') {{event.startTimeDate | date:'MM-dd-yyyy hh:mm a'}}
                                button.btn.btn-success(type='button', uib-dropdown-toggle='')
                                    span.glyphicon.glyphicon-calendar
                                ul.uib-dropdown-menu(role='menu', aria-labelledby='split-button')
                                    li(role='menuitem')
                                        datetimepicker(data-ng-model='event.startTimeDate')



                .col-xs-12.col-sm-6.col-md-4.col-lg-4.text-center
                    label(for='endTimeDate') End Time
                    .row
                        .col-xs-12.col-sm-12.col-md-12.col-lg-12
                            .btn-group#startTimeDate(uib-dropdown='')
                                button#split-button.btn.btn-danger(type='button') {{event.endTimeDate | date:'MM-dd-yyyy hh:mm a'}}
                                button.btn.btn-danger(type='button', uib-dropdown-toggle='')
                                    span.glyphicon.glyphicon-calendar
                                ul.uib-dropdown-menu(role='menu', aria-labelledby='split-button')
                                    li(role='menuitem')
                                        datetimepicker(data-ng-model='event.endTimeDate')

                .col-xs-12.col-sm-12.col-md-4.col-lg-4.text-center
                    label(for='maxVolunteers') Number of Volunteers
                    .row
                        .col-xs-12.col-sm-12.col-md-12.col-lg-12
                            .btn-group(role='group')
                                button.btn.btn-default(type='button', ng-disabled='event.maxVolunteers <= 1', ng-click='event.maxVolunteers = event.maxVolunteers - 1', aria-label='Decrease Volunteers')
                                    span.glyphicon.glyphicon-chevron-left(aria-hidden='true')
                                button.btn.btn-default(type='button') {{event.maxVolunteers}}
                                button.btn.btn-default(type='button', ng-click='event.maxVolunteers = event.maxVolunteers + 1', aria-label='Increase Volunteers')
                                    span.glyphicon.glyphicon-chevron-right(aria-hidden='true')


            hr


        .col-xs-12.col-sm-4.col-md-4.col-lg-4
            img.img-responsive.img-thumbnail.center-item(src="{{event.picture}}")
            div(ng-show='getIsEditing()')
                .form-group
                    input(type='file')
                    | Might have to use external module for file inputs
            hr

        .col-xs-12.col-sm-8.col-md-8.col-lg-8
            .form-group
                label(for='description') Description
                textarea.form-control#description(rows='10', ng-model='event.description')

                hr
                .row
                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                        label(for='street') Street
                        input.form-control#street(ng-model='event.street')
                    .col-xs-12.col-sm-6.col-md-6.col-lg-6
                        label(for='city') City
                        input.form-control#city(ng-model='event.city')
                    .col-xs-5.col-sm-3.col-md-2.col-lg-2
                        label(for='state') State
                        select.form-control#state(ng-model='event.state')
                             option(value='AL') AL
                             option(value='AK') AK
                             option(value='AZ') AZ
                             option(value='AR') AR
                             option(value='CA') CA
                             option(value='CO') CO
                             option(value='CT') CT
                             option(value='DE') DE
                             option(value='DC') DC
                             option(value='FL') FL
                             option(value='GA') GA
                             option(value='HI') HI
                             option(value='ID') ID
                             option(value='IL') IL
                             option(value='IN') IN
                             option(value='IA') IA
                             option(value='KS') KS
                             option(value='KY') KY
                             option(value='LA') LA
                             option(value='ME') ME
                             option(value='MD') MD
                             option(value='MA') MA
                             option(value='MI') MI
                             option(value='MN') MN
                             option(value='MS') MS
                             option(value='MO') MO
                             option(value='MT') MT
                             option(value='NE') NE
                             option(value='NV') NV
                             option(value='NH') NH
                             option(value='NJ') NJ
                             option(value='NM') NM
                             option(value='NY') NY
                             option(value='NC') NC
                             option(value='ND') ND
                             option(value='OH') OH
                             option(value='OK') OK
                             option(value='OR') OR
                             option(value='PA') PA
                             option(value='RI') RI
                             option(value='SC') SC
                             option(value='SD') SD
                             option(value='TN') TN
                             option(value='TX') TX
                             option(value='UT') UT
                             option(value='VT') VT
                             option(value='VA') VA
                             option(value='WA') WA
                             option(value='WV') WV
                             option(value='WI') WI
                             option(value='WY') WY
                    .col-xs-7.col-sm-3.col-md-4.col-lg-4
                        label(for='zipcode') Zipcode
                        input.form-control#zipcode(ng-model='event.zipcode')



div(ng-show='getIsPreviewing()')
    .container
        .col-xs-12.col-sm-4.col-md-4.col-lg-4
            .row
                .col-xs-6.col-sm-12.col-md-12.col-lg-12
                    span.glyphicon.glyphicon-chevron-left
                    | &nbsp
                    | {{event.group.name}}
                    hr
                    img.img-responsive.img-thumbnail.center-item(src='{{event.picture}}')

                .col-xs-6.col-sm-12.col-md-12.col-lg-12.text-center
                    .row
                        .col-xs-12.col-sm-12.col-md-12.col-lg-12
                            h3.text-center Organizers
                            hr
                            .col-xs-6.col-sm-6.col-md-4.col-lg-4
                                img.img-responsive.img-rounded(src='{{event.creationUser.picture}}')
                            .col-xs-6.col-sm-6.col-md-8.col-lg-8
                                h6 {{event.creationUser.firstName}} {{event.creationUser.lastName}}
                                button.btn.btn-default.btn-xs Contact
                hr

        .col-xs-12.col-sm-8.col-md-8.col-lg-8
            .row
                .col-xs-12.col-sm-12.col-md-12.col-lg-12
                    h2 <strong> {{event.name}} </strong>

                    .col-xs-12.col-sm-12.col-md-12.col-lg-12.dateRow
                        h3 {{event.startTimeDate | date:'MMM d, yyyy'}}

                        h5.timeRow {{event.startTimeDate | date:'EEEE h:mm a'}}
                            .duration for
                            .duration(ng-show='hasDays()') {{duration.days}} Day(s)
                            .duration(ng-show='hasHours()') {{duration.hours}} Hour(s)
                            .duration(ng-show='hasMinutes()') {{duration.minutes}} Minute(s)

                    .col-xs-12.col-sm-12.col-md-12.col-lg-12.cardBody
                        h5 {{event.street}} {{event.city}}, {{event.state}} {{event.zipcode}}

                        .navbar-btn
                            img.img-thumbnail.interests-thumbnail(ng-src='/images/interests/{{interest}}.png', ng-repeat='interest in event.interests | orderBy:interest', uib-tooltip='{{interest}}')
                            hr
                            h5 {{event.description | limitTo:10000}}

                        .col-xs-12.col-sm-12.col-md-12.col-lg-12.volunteerRow
                            .row
                                .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                    h4.text-center 0 / {{event.maxVolunteers}}
                                        | &nbsp
                                        button.btn(ng-show='isVolunteering()', ng-click='optOut()') Opt out
                                        button.btn(ng-show='!isVolunteering()', ng-click='volunteer()') Volunteer
                                    hr
                                .hidden-xs
                                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                        a(ng-href='/users/{{volunteer._id}}', ng-repeat='volunteer in event.volunteers | limitTo:15')
                                            img.img-rounded.volunteer-thumbnail(src='{{volunteer.picture}}')
