div(ng-include='"components/navbar/navbar.html"')

h1 Events

h6 {{eventId}}

.well
    .container
        button.btn.btn-default(ng-click='toggleAdmin()') Toggle Admin
        | {{isAdmin}}

div(ng-show='isAdmin')
    div(ng-show='!getIsEditing()')
        .float-right
            button.btn.btn-default(ng-show='!getIsEditing()', ng-click='enableEdit()') Edit Group
    div(ng-show='getIsEditing()')
        .float-right
            button.btn.btn-info(ng-show='getIsEditing()', ng-click='submitEdit()', ng-disabled='isUpdating') Save
            | &nbsp
            button.btn.btn-danger(ng-show='getIsEditing()', ng-click='cancelEdit()', ng-disabled='isUpdating') Cancel
.float-btm.text-center
    alert(ng-repeat='alert in alerts', type='{{alert.type}}', close='closeAlert($index)', dismiss-on-timeout='5000') {{alert.msg}}

.creatingOverlay(ng-show='isUpdating')

div(ng-show='getIsEditing()')

div(ng-show='!getIsEditing()')
    .container
        .col-xs-12.col-sm-4.col-md-4.col-lg-4
            .row
                .col-xs-6.col-sm-12.col-md-12.col-lg-12
                    a(ng-href='/groups/{{event.group._id}}')
                        img.img-responsive.img-thumbnail.center-item(src='{{event.group.picture}}')

                .col-xs-6.col-sm-12.col-md-12.col-lg-12.text-center.infoRow
                    h5 Founded on: {{event.group.creationDate | date:'MMM dd, yyyy'}}

                    hr

                    button.btn.btn-default.center-item(ng-click='subscribe()')
                        h4 Subscribe
                hr

        .col-xs-12.col-sm-8.col-md-8.col-lg-8
            .row
                .col-xs-12.col-sm-12.col-md-12.col-lg-12
                    h2 <strong> {{event.name}} </strong>

                    .col-xs-12.col-sm-12.col-md-12.col-lg-12.dateRow
                        h3 {{event.startTimeDate | date:'MMM d, yyyy'}}

                        h5.timeRow {{event.startTimeDate | date:'EEEE h:mm a'}}
                            .duration(ng-show='hasDays()') {{duration.days}} Day(s)
                            .duration(ng-show='hasHours()') {{duration.hours}} Hour(s)
                            .duration(ng-show='hasMinutes()') {{duration.minutes}} Minute(s)

                    .col-xs-12.col-sm-12.col-md-12.col-lg-12.eventBody
                        h5 {{event.street}} {{event.city}}, {{event.state}} {{event.zipcode}}

                        .navbar-btn
                            img.img-thumbnail.interests-thumbnail(ng-src='/images/interests/{{interest}}.png', ng-repeat='interest in event.interests | orderBy:interest', uib-tooltip='{{interest}}')
                            hr
                            h5 {{event.description | limitTo:10000}}

                        .col-xs-12.col-sm-12.col-md-12.col-lg-12.volunteerRow
                            .row
                                .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                    h4.text-center {{event.volunteers.length}} / {{event.maxVolunteers}}
                                        | &nbsp
                                        button.btn Opt out
                                    hr
                                .hidden-xs
                                    .col-xs-12.col-sm-12.col-md-12.col-lg-12
                                        a(ng-href='/users/{{volunteer._id}}', ng-repeat='volunteer in event.volunteers | limitTo:15')
                                            img.img-rounded.volunteer-thumbnail(src='{{volunteer.picture}}')
